<!doctype html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>ğŸ¢ Jeu Immobilier Casablanca â€” Master Edition</title>
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>

<header>
  <h1>ğŸ™ï¸ Jeu Immobilier Casablanca â€” Pro Simulation</h1>
  <div class="header-actions">
    <button id="newGameBtn">ğŸ†• Nouvelle Partie</button>
    <button id="loadGameBtn">ğŸ’¾ Charger Partie</button>
    <button id="saveGameBtn">ğŸ’¾ Sauvegarder Partie</button>
  </div>
</header>

<main>
  <!-- Carte Leaflet -->
  <section id="map"></section>

  <!-- Sidebar -->
  <aside id="sidebar">

    <!-- Tableau de bord -->
    <div class="panel dashboard">
      <h2>ğŸ“Š Tableau de bord</h2>
      <div class="stat">Mois : <span id="month">0</span></div>
      <div class="stat">Cash : <span id="cash">0</span> MAD</div>
      <div class="stat">Patrimoine : <span id="patrimoine">0</span> MAD</div>
      <div class="stat">Rendement : <span id="yield">0%</span></div>
      <div class="stat">ESG : <span id="esg">0</span></div>
      <div class="stat">Risque : <span id="risk">-</span></div>
      <div class="stat">Revenus mensuels : <span id="monthlyIncome">0</span> MAD</div>
      <div class="progress-container">
        <label>Objectif ESG</label>
        <progress id="esgProgress" max="100" value="0"></progress>
      </div>
      <div class="progress-container">
        <label>Rendement cible</label>
        <progress id="yieldProgress" max="20" value="0"></progress>
      </div>
      <button id="nextMonthBtn">â–¶ï¸ Passer au mois suivant</button>
    </div>

    <!-- ParamÃ¨tres de jeu avancÃ©s -->
    <div class="panel game-settings">
      <h3>âš™ï¸ ParamÃ¨tres de la Partie</h3>
      <label>Budget initial (MAD): <input id="startCash" type="number" value="100000000"></label>
      <label>Objectif ESG: <input id="targetESG" type="number" value="70"></label>
      <label>Rendement min (%) : <input id="targetYield" type="number" value="8"></label>
      <label>Nombre dâ€™immeubles : <input id="numProperties" type="number" value="25"></label>
      <button id="applySettings">Appliquer paramÃ¨tres</button>
    </div>

    <!-- Ã‰vÃ©nements -->
    <div class="panel" id="eventsLog">
      <h3>ğŸ“¢ Ã‰vÃ©nements du mois</h3>
      <div id="eventList">Aucun Ã©vÃ©nement pour le moment.</div>
    </div>

    <!-- Liste immeubles filtrable -->
    <div class="panel" id="propertyListPanel">
      <h3>ğŸ˜ï¸ Immeubles disponibles</h3>
      <select id="filterType">
        <option value="all">Tous</option>
        <option value="RÃ©sidentiel">RÃ©sidentiel</option>
        <option value="Bureaux">Bureaux</option>
        <option value="Commerce">Commerce</option>
        <option value="Luxe">Luxe</option>
      </select>
      <div id="propList"></div>
    </div>

    <!-- Actions sur immeuble sÃ©lectionnÃ© -->
    <div class="panel actions">
      <h3>ğŸ”§ Actions sur l'immeuble sÃ©lectionnÃ©</h3>
      <button id="buyBtn">Acheter</button>
      <button id="sellBtn">Vendre</button>
      <button id="renovBtn">RÃ©novation ESG</button>
      <button id="upgradeBtn">AmÃ©lioration Luxe</button>
      <button id="mortgageBtn">Contracter un emprunt</button>
    </div>

  </aside>
</main>

<!-- Modal immeuble -->
<div id="propModal" class="modal hidden">
  <div class="modal-content">
    <button class="close">âœ–</button>
    <div id="propDetails"></div>
    <div class="modal-actions">
      <button id="modalBuyBtn">Acheter</button>
      <button id="modalSellBtn">Vendre</button>
      <button id="modalRenovBtn">RÃ©nov (ESG)</button>
      <button id="modalUpgradeBtn">AmÃ©lioration luxe</button>
      <button id="modalInfoBtn">ğŸ’¡ Recommandations</button>
    </div>
  </div>
</div>

<footer>
  <small>Â© 2025 Jeu Immobilier Casablanca â€” Master Edition</small>
</footer>

<script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
<script src="app.js"></script>

</body>
</html>
